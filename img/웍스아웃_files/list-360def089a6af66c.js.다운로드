(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9094],{23021:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var o=r(27812),a=r(59499),d=r(11163),n=r(67294),i=r(51517),c=r(4726),s=r(11529),l=r(91789),u=r(77578),g=r(58535),m=r(61342),f=r(52424),y=r(62590),b=r(30233),p=r(85518),v=r(85893);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(){var e,t,r=(0,d.useRouter)(),a=r.query,I=r.replace,C=r.push,S=r.pathname,h=r.isReady,_=(r.back,(0,n.useState)()),O=_[0],j=_[1],P=(0,n.useState)(),z=P[0],N=P[1],k=(0,n.useState)(),w=k[0],E=k[1],Z=(0,n.useState)(""),q=Z[0],R=Z[1],T=(0,u.Z)(),M=T.categories,A=T.categoryLoading,D=((0,n.useRef)(!1),x(x(x(x(x(x(x(x(x(x(x(x({size:a.filter?20:30,mainCategoryId:a.mainCategoryId},a.subcategoryId&&{subcategoryId:a.subcategoryId}),a.secondCategoryId&&{secondCategoryId:a.secondCategoryId}),a.brandIds&&{brandIds:a.brandIds}),a.sort&&{sort:a.sort}),a.sale&&{sale:!!a.sale}),a.midSale&&{midSale:!!a.midSale}),a.inStock&&{inStock:!!a.inStock}),a.categoryCodes&&{categoryCodes:a.categoryCodes}),a.productSize&&{productSize:a.productSize}),a.minPrice&&{minPrice:a.minPrice}),a.maxPrice&&{maxPrice:a.maxPrice}),a.filter&&{filterShow:!!a.filter})),L=(0,m.m)(D),B=L.products,G=void 0===B?[]:B,V=L.size,H=L.setSize,U=L.isLast,F=void 0===U||U,K=L.isValidating,X=(0,g.$)(D),W=X.productBrands,$=X.productCategories,J=X.productMinPrice,Q=X.productMaxPrice,Y=X.productSizes,ee=X.loading,te=function(e){var t=x({},a);e||delete t.secondCategoryId,"GROUP"==(null===e||void 0===e?void 0:e.subType)&&(delete t.brandIds,delete t.categoryCodes,delete t.productSize,delete t.minPrice,delete t.maxPrice);var r={pathname:S,query:x(x({},t),(null===e||void 0===e?void 0:e.subcategoryId)&&{secondCategoryId:null===e||void 0===e?void 0:e.subcategoryId})};I(r,void 0,{shallow:!0})};return(0,n.useEffect)((function(){var e;R((0,b.Z)(null===(e=M.find((function(e){return e.categoryId===+(a.mainCategoryId||0)})))||void 0===e?void 0:e.categoryName))})),(0,n.useEffect)((function(){var e;a.mainCategoryId&&(c.Z.getSubCategories(a.mainCategoryId).then((function(e){var t=e.data.payload;j(null===t||void 0===t?void 0:t.sort((function(e,t){return e.sort-t.sort})))})),R((0,b.Z)(null===(e=M.find((function(e){return e.categoryId===+(a.mainCategoryId||0)})))||void 0===e?void 0:e.categoryName)))}),[h,a.mainCategoryId]),(0,n.useEffect)((function(){a.subcategoryId?(c.Z.getSubCategories(a.mainCategoryId).then((function(e){var t=e.data.payload;N(null===t||void 0===t?void 0:t.find((function(e){return e.subcategoryId===+a.subcategoryId})))})),c.Z.getSecondCategories(a.subcategoryId,[a.codes]).then((function(e){var t=e.data.payload;E(t)}))):(N(void 0),E(void 0))}),[h,a.subcategoryId]),(0,n.useEffect)((function(){if(!ee&&!A&&z){var e=M.find((function(e){return e.categoryId===+(a.mainCategoryId||0)})),t=a.brandIds?W.filter((function(e){return a.brandIds.includes(String(e.brandId))})).map((function(e){return e.brandName})).join(","):null,r=w&&a.secondCategoryId?null===w||void 0===w?void 0:w.find((function(e){return e.subcategoryId===+(a.secondCategoryId||0)})).name:null,o="\ub0a8\uc131"===(null===e||void 0===e?void 0:e.categoryName),d="\uc5ec\uc131"===(null===e||void 0===e?void 0:e.categoryName);f.k.sendAmplitude("item_total_page_viewed",{main_tab:String(null===e||void 0===e?void 0:e.categoryName),sub_tab:z.name,sec_tab:r,brand_filter:t,size_filter:void 0===a.productSize?[]:a.productSize,sale_filter:"true"==a.sale?"On":"Off",gender_filter:o?"\ub0a8\uc131":d?"\uc5ec\uc131":"\uc804\uccb4",category_filter:z.name}),f.k.sendBraze(l.z.ITEM_TOTAL_PAGE_VIEWED,{main_tab:String(null===e||void 0===e?void 0:e.categoryName),sub_tab:z.name,sec_tab:r,brand_filter:t,size_filter:void 0===a.productSize?[]:a.productSize,sale_filter:"true"==a.sale?"On":"Off",gender_filter:o?"\ub0a8\uc131":d?"\uc5ec\uc131":"\uc804\uccb4",category_filter:z.name})}}),[ee,A,z,a.mainCategoryId,a.brandIds,a.productSize,a.sale,w,a.secondCategoryId]),(0,n.useEffect)((function(){if("GROUP"===(null===z||void 0===z?void 0:z.subType)&&!a.secondCategoryId&&w){var e,t=x({},a),r={pathname:S,query:x(x({},t),{},{secondCategoryId:null===(e=w[0])||void 0===e?void 0:e.subcategoryId})};I(r,void 0,{shallow:!0})}}),[null===z||void 0===z?void 0:z.subType,w]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(s.Fb,{}),(0,v.jsx)(s.up,{mobileLeft:"BnH",mobileRight:"default"}),(0,v.jsxs)("div",{className:"bg-white",children:[(0,v.jsxs)("div",{className:"flex flex-col items-center md:mb-2 mb-0 md:-mt-2 -mt-1 text-12 md:pb-1.5 pb-3",children:[(0,v.jsx)(s.H5,{className:"font-normal text-12 md:mr-2 mr-0 pb-3 md:pt-5 pt-0",children:z?z.name:q===y.qd.MIDSALE||q===y.qd.ARCHIVE?"\uc804\uccb4":"\uc2e0\uc0c1\ud488"}),(0,v.jsxs)("div",{className:"md:flex relative overflow-x-scroll px-4 flex hidden-scrollbar space-x-4 mx-auto w-full md:w-max",children:["GROUP"!==(null===z||void 0===z?void 0:z.subType)&&w&&(0,v.jsx)(s.OK,{selected:!a.secondCategoryId,onClick:function(){return te()},name:"\uc804\uccb4",className:"flex-shrink-0"}),null===w||void 0===w?void 0:w.sort((function(e,t){return t.sort-e.sort})).map((function(e){var t;return(0,v.jsx)(s.OK,{selected:e.subcategoryId===+(null!==(t=null===a||void 0===a?void 0:a.secondCategoryId)&&void 0!==t?t:0),onClick:function(){return te(e)},name:e.name,className:"flex-shrink-0"},e.subcategoryId)})),!z&&(null===O||void 0===O?void 0:O.filter((function(e){return"GROUP"!==e.subType})).map((function(e){return(0,v.jsx)(s.OK,{onClick:function(){return function(e){var t=M.find((function(e){return e.categoryId===+(a.mainCategoryId||0)})),r=(0,b.Z)(null===t||void 0===t?void 0:t.categoryName),o=localStorage.getItem("isSale"),d={pathname:S,query:x(x({mainCategoryId:a.mainCategoryId,subcategoryId:e.subcategoryId,codes:null===e||void 0===e?void 0:e.categoryCodes.join(",")},(r===y.qd.ARCHIVE||o)&&{sale:!0,inStock:!0}),r===y.qd.MIDSALE&&{midSale:!0})};C(d)}(e)},name:e.name,className:"flex-shrink-0"},e.subcategoryId)})))]})]}),(0,v.jsx)("div",{className:"border-b border-gray-100 -mb-13 md:-mx-4"}),(0,v.jsx)(i.Z,{pinStart:33,children:(0,v.jsx)("div",{className:"mt-13 xl:hidden block -mb-16",children:p.tq&&(0,v.jsx)(s.f8,{tabs:["\ube0c\ub79c\ub4dc"].concat((0,o.Z)(a.subcategoryId?["\uc0ac\uc774\uc988"]:[])),category:q,checkbox:!0,productBrands:W,productCategories:$,productMinPrice:J,productMaxPrice:Q,productSizes:Y},"".concat(a.mainCategoryId,"-").concat(null!==(e=a.subcategoryId)&&void 0!==e?e:""))})}),(0,v.jsx)("div",{className:"mt-12 xl:block hidden",children:!p.tq&&(0,v.jsx)(s.f8,{tabs:["\ube0c\ub79c\ub4dc"].concat((0,o.Z)(a.subcategoryId?["\uc0ac\uc774\uc988"]:[])),category:q,checkbox:!0,productBrands:W,productCategories:$,productMinPrice:J,productMaxPrice:Q,productSizes:Y},"".concat(a.mainCategoryId,"-").concat(null!==(t=a.subcategoryId)&&void 0!==t?t:""))})]}),(0,v.jsx)(s.cm,{products:G,size:V,setSize:H,isLast:F,isValidating:K,classStr:a.openFilter?"grid 2xl:grid-cols-5 md:grid-cols-4 grid-cols-2 gap-x-3 xl:ml-80 ml-0 md:mx-0 md:pr-4 md:pl-2 pr-3 pl-3 bg-white relative xl:z-20 z-0 xl:mt-0 mt-5":"xl:mt-0 mt-5 md:px-4 px-3 grid 2xl:grid-cols-6 md:grid-cols-5 grid-cols-2 gap-x-3 bg-white relative xl:z-20 z-0"})]})}},94051:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product/list",function(){return r(23021)}])}},function(e){e.O(0,[3525,1083,9774,2888,179],(function(){return t=94051,e(e.s=t);var t}));var t=e.O();_N_E=t}]);